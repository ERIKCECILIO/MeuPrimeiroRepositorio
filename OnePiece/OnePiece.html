<!DOCTYPE html>
<html>
<head>
    <title>ONE PIECE</title>
</head>
<body>

    <h1><STRONg>ONE PIECE</STRONg></h1>
    <h3>Episódio que deseja começar assistindo:</h3>
    <input  id="ipt_episodioIniciar" type="number" placeholder="Digite um número de 1 a 1100">
    
    <h3>Quantidade de tempo livre:</h3>
    <input  id="ipt_tempoLivre" type="number" placeholder="Digite o tempo disponível">
    
    <h3>Unidade de tempo em:</h3>
    <select id="unidadeTempo">
        <option value="horas">Horas</option>
        <option value="minutos">Minutos</option>
    </select>
    
    <h3>Deseja pular a abertura?</h3>
    <select id="pularOpen">
        <option value="s">Sim</option>
        <option value="n">Não</option>
    </select>
    
    <h3>Deseja Pular encerramento?</h3>
    <select id="pularEnd">
        <option value="yes">Sim</option>
        <option value="no">Não</option>
    </select>
    
    <br><br>
    <button onclick="verEps()">Assistir Episódios</button>
    <br><br>
    
</body>
</html>
<script>
    function verEps() {
        
        var iniciarEp = ipt_episodioIniciar.value;
        var tempoLivre = ipt_tempoLivre.value;
        var unidadeTempo = unidadeTempo.value;
        var pularAbertura = pularOpen.value;
        var pularEncerramento = pularEnd.value;
      
                if (iniciarEp || iniciarEp < 1 || iniciarEp > 1100) {
            alert("Por favor, insira um número de episódio entre 1 e 1100.");
        }
        
        if (tempoLivre > 60 || tempoLivre <= 0) {
            alert("Por favor, insira uma quantidade válida de tempo.");

        }

        var totalMinutos = unidadeTempo === "horas" ? tempoLivre * 60 : tempoLivre;

        var  epsAssistidos = 0;
        for (var i = iniciarEp; totalMinutos > 0 && i <= 1100; i++) {
            var episodioDura = 24; 

            if (pularAbertura === "s") {
                episodioDura -= 2; 
            }
            if (pularEncerramento === "yes") {
                episodioDura -= 3; 
            }

            if (totalMinutos >= episodioDura) {
                epsAssistidos++;
                totalMinutos -= episodioDura;
            } else {

            }
        }
        
        alert(`Você pode assistir ${epsAssistidos} episódios começando do episódio ${iniciarEp}.`);
    }
</script>